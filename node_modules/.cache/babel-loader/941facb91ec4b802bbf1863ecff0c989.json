{"ast":null,"code":"var _jsxFileName = \"/Users/jeromekithinji/Development/_nsight/src/pages/enrollment/enrollment.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport './enrollment.scss';\nimport enrollmentData from \"../../assets/data/enrollment-data\";\nimport Filter from \"../../components/filter/filter\";\nimport EnrollmentList from \"../../components/enrollmentList/enrollmentList\";\nimport TopHeader from '../../components/topheader/topheader';\nimport Searchbox from '../../components/searchbox/searchbox';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Enrollment = () => {\n  _s();\n\n  const [enrollments, setEnrollments] = useState([]);\n  const [enrollmentsCopy, setEnrollmentsCopy] = useState([]);\n  const [showResults, setShowResults] = useState(false);\n  const courseNames = enrollmentData.map(courses => courses.intakeName);\n\n  const createStatefulObject = courseNames => {\n    return courseNames.reduce((statefulObject, courseName) => {\n      statefulObject[courseName] = false;\n      return statefulObject;\n    }, {});\n  };\n\n  const [courses, setCourses] = useState(createStatefulObject(courseNames));\n\n  const handleSetCourses = courseName => {\n    const tempCourses = { ...courses\n    };\n    tempCourses[courseName] = !tempCourses[courseName];\n    setCourses(tempCourses); // not synchronous\n\n    return tempCourses;\n  };\n\n  const filterByCourseName = e => {\n    const courses = handleSetCourses(e.target.value);\n    const stateArray = Object.keys(courses).filter(key => courses[key]);\n    const filteredCourseName = enrollmentData.filter(intake => stateArray.includes(intake.intakeName));\n\n    if (filteredCourseName.length === 0) {\n      getEnrollments(enrollmentData);\n    } else {\n      setEnrollmentsCopy(filteredCourseName);\n      setEnrollments(filteredCourseName);\n    }\n\n    const filteredStateArray = stateArray.filter(courseName => courseName.includes(true));\n\n    if (filteredStateArray) {\n      setShowResults(true);\n    } else {\n      setShowResults(false);\n    }\n  };\n\n  const getEnrollments = () => {\n    setEnrollments(enrollmentData);\n    setEnrollmentsCopy(enrollmentData);\n  };\n\n  useEffect(() => {\n    getEnrollments();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"enrollment-container\",\n    children: [/*#__PURE__*/_jsxDEV(TopHeader, {\n      title: \"Enrollments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Searchbox, {\n      handleSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Filter, {\n      courses: courses,\n      filterByCourseName: filterByCourseName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"enrollment-list\",\n      children: /*#__PURE__*/_jsxDEV(EnrollmentList, {\n        enrollmentData: enrollments\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Enrollment, \"SSnd3/pl0uftECh34XXlPKk3De8=\");\n\n_c = Enrollment;\nexport default Enrollment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Enrollment\");","map":{"version":3,"sources":["/Users/jeromekithinji/Development/_nsight/src/pages/enrollment/enrollment.jsx"],"names":["React","useEffect","useState","enrollmentData","Filter","EnrollmentList","TopHeader","Searchbox","Enrollment","enrollments","setEnrollments","enrollmentsCopy","setEnrollmentsCopy","showResults","setShowResults","courseNames","map","courses","intakeName","createStatefulObject","reduce","statefulObject","courseName","setCourses","handleSetCourses","tempCourses","filterByCourseName","e","target","value","stateArray","Object","keys","filter","key","filteredCourseName","intake","includes","length","getEnrollments","filteredStateArray","handleSearch"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,mBAAP;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,cAAP,MAA2B,gDAA3B;AACA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,OAAOC,SAAP,MAAsB,sCAAtB;;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA;;AAErB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAACS,eAAD,EAAkBC,kBAAlB,IAAwCV,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,KAAD,CAA9C;AAEA,QAAMa,WAAW,GAAGZ,cAAc,CAACa,GAAf,CAAoBC,OAAD,IAAaA,OAAO,CAACC,UAAxC,CAApB;;AAEA,QAAMC,oBAAoB,GAAIJ,WAAD,IAAiB;AAC1C,WAAOA,WAAW,CAACK,MAAZ,CAAmB,CAACC,cAAD,EAAiBC,UAAjB,KAAgC;AACtDD,MAAAA,cAAc,CAACC,UAAD,CAAd,GAA6B,KAA7B;AACA,aAAOD,cAAP;AACH,KAHM,EAGJ,EAHI,CAAP;AAIH,GALD;;AAOA,QAAM,CAACJ,OAAD,EAAUM,UAAV,IAAwBrB,QAAQ,CAClCiB,oBAAoB,CAACJ,WAAD,CADc,CAAtC;;AAIA,QAAMS,gBAAgB,GAAIF,UAAD,IAAgB;AACrC,UAAMG,WAAW,GAAG,EAAE,GAAGR;AAAL,KAApB;AACAQ,IAAAA,WAAW,CAACH,UAAD,CAAX,GAA0B,CAACG,WAAW,CAACH,UAAD,CAAtC;AAEAC,IAAAA,UAAU,CAACE,WAAD,CAAV,CAJqC,CAIZ;;AACzB,WAAOA,WAAP;AACH,GAND;;AAQA,QAAMC,kBAAkB,GAAIC,CAAD,IAAO;AAC9B,UAAMV,OAAO,GAAGO,gBAAgB,CAACG,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhC;AACA,UAAMC,UAAU,GAAGC,MAAM,CAACC,IAAP,CAAYf,OAAZ,EAAqBgB,MAArB,CAA6BC,GAAD,IAASjB,OAAO,CAACiB,GAAD,CAA5C,CAAnB;AAEA,UAAMC,kBAAkB,GAAGhC,cAAc,CAAC8B,MAAf,CAAuBG,MAAD,IAC7CN,UAAU,CAACO,QAAX,CAAoBD,MAAM,CAAClB,UAA3B,CADuB,CAA3B;;AAIA,QAAIiB,kBAAkB,CAACG,MAAnB,KAA8B,CAAlC,EAAqC;AACjCC,MAAAA,cAAc,CAACpC,cAAD,CAAd;AACH,KAFD,MAEO;AACHS,MAAAA,kBAAkB,CAACuB,kBAAD,CAAlB;AACAzB,MAAAA,cAAc,CAACyB,kBAAD,CAAd;AACH;;AAED,UAAMK,kBAAkB,GAAGV,UAAU,CAACG,MAAX,CAAmBX,UAAD,IACzCA,UAAU,CAACe,QAAX,CAAoB,IAApB,CADuB,CAA3B;;AAIA,QAAIG,kBAAJ,EAAwB;AACpB1B,MAAAA,cAAc,CAAC,IAAD,CAAd;AACH,KAFD,MAEO;AACHA,MAAAA,cAAc,CAAC,KAAD,CAAd;AACH;AACJ,GAxBD;;AA0BA,QAAMyB,cAAc,GAAG,MAAM;AACzB7B,IAAAA,cAAc,CAACP,cAAD,CAAd;AACAS,IAAAA,kBAAkB,CAACT,cAAD,CAAlB;AACH,GAHD;;AAKAF,EAAAA,SAAS,CAAC,MAAM;AACZsC,IAAAA,cAAc;AACjB,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACI;AAAK,IAAA,SAAS,EAAC,sBAAf;AAAA,4BACI,QAAC,SAAD;AAAW,MAAA,KAAK,EAAC;AAAjB;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI,QAAC,SAAD;AAAW,MAAA,YAAY,EAAEE;AAAzB;AAAA;AAAA;AAAA;AAAA,YAFJ,eAGI,QAAC,MAAD;AAAQ,MAAA,OAAO,EAAExB,OAAjB;AAA0B,MAAA,kBAAkB,EAAES;AAA9C;AAAA;AAAA;AAAA;AAAA,YAHJ,eAII;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA,6BACI,QAAC,cAAD;AAAgB,QAAA,cAAc,EAAEjB;AAAhC;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAJJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH,CAxED;;GAAMD,U;;KAAAA,U;AA0EN,eAAeA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport './enrollment.scss'\nimport enrollmentData from \"../../assets/data/enrollment-data\";\nimport Filter from \"../../components/filter/filter\"\nimport EnrollmentList from \"../../components/enrollmentList/enrollmentList\"\nimport TopHeader from '../../components/topheader/topheader';\nimport Searchbox from '../../components/searchbox/searchbox';\n\nconst Enrollment = () => {\n\n    const [enrollments, setEnrollments] = useState([]);\n    const [enrollmentsCopy, setEnrollmentsCopy] = useState([]);\n    const [showResults, setShowResults] = useState(false);\n\n    const courseNames = enrollmentData.map((courses) => courses.intakeName);\n\n    const createStatefulObject = (courseNames) => {\n        return courseNames.reduce((statefulObject, courseName) => {\n            statefulObject[courseName] = false;\n            return statefulObject;\n        }, {});\n    };\n\n    const [courses, setCourses] = useState(\n        createStatefulObject(courseNames)\n    );\n\n    const handleSetCourses = (courseName) => {\n        const tempCourses = { ...courses };\n        tempCourses[courseName] = !tempCourses[courseName];\n\n        setCourses(tempCourses); // not synchronous\n        return tempCourses;\n    };\n\n    const filterByCourseName = (e) => {\n        const courses = handleSetCourses(e.target.value);\n        const stateArray = Object.keys(courses).filter((key) => courses[key]);\n\n        const filteredCourseName = enrollmentData.filter((intake) =>\n            stateArray.includes(intake.intakeName)\n        );\n\n        if (filteredCourseName.length === 0) {\n            getEnrollments(enrollmentData);\n        } else {\n            setEnrollmentsCopy(filteredCourseName);\n            setEnrollments(filteredCourseName);\n        }\n\n        const filteredStateArray = stateArray.filter((courseName) =>\n            courseName.includes(true)\n        );\n\n        if (filteredStateArray) {\n            setShowResults(true);\n        } else {\n            setShowResults(false);\n        }\n    };\n\n    const getEnrollments = () => {\n        setEnrollments(enrollmentData);\n        setEnrollmentsCopy(enrollmentData);\n    }\n\n    useEffect(() => {\n        getEnrollments();\n    }, []);\n\n    return (\n        <div className=\"enrollment-container\">\n            <TopHeader title=\"Enrollments\"/>\n            <Searchbox handleSearch={handleSearch} />\n            <Filter courses={courses} filterByCourseName={filterByCourseName} />\n            <div className=\"enrollment-list\">\n                <EnrollmentList enrollmentData={enrollments} />\n            </div>\n        </div>\n    )\n}\n\nexport default Enrollment\n"]},"metadata":{},"sourceType":"module"}